<!DOCTYPE html>
<html>

<!-- Mirrored from www.auxgitesdemaelle.com/photos_89543_it.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 19 Nov 2024 11:35:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="content-language" content="it">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Maison 400 m&egrave;tres centre, jardin Gu&eacute;rande - Fotografia</title>
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta property="og:site_name" content="Auxgitesdemaelle.com">
<meta property="og:type" content="place">
<meta property="place:location:latitude" content="47.327238">
<meta property="place:location:longitude" content="-2.437545">
<meta property="og:url" content="photos_89543_it.html">
<meta property="og:title" content="Maison 400 mètres centre, jardin">
<meta property="og:image" content="../www.cybevasion.fr/gites/france/44/89543_1292_1856.jpg">

	<link href="style_color_2f9f8.css?202311171145" rel="stylesheet" type="text/css">
	<script> </script></head>
<body>
	<style>.flag_svg, .logo_partage { max-width: 64px; }</style><div class="header_site"><div class="header_site_content"><div id="btn_menu"><span></span><span></span><span></span><span></span></div><div class="bloc_title"><h1 class="zoomOutIn"><a href="accueil_89543_it.html" title="Home">Maison 400 m&egrave;tres centre, jardin</a></h1> <div class="labels"><img src="https://www.cybevasion.fr/lib3/svg/labels/meubletourisme_22.svg" title="Meubl&eacute; de tourisme 2 &eacute;toiles" align="absmiddle" height="32"> <img src="https://www.cybevasion.fr/lib3/svg/labels/gitesfrance_5_5.svg" title="G&icirc;tes de France 3 &eacute;pis" align="absmiddle" height="32"> </div></div><div class="bloc_flags"><a href="photos_89543.html" class="conteneur_flag" rel="alternate" hreflang="fr"><img src="https://www.cybevasion.fr/lib3/drapeaux3/fr.svg" title="Fran&ccedil;ais" class="flag_svg"></a><a href="photos_89543_en.html" class="conteneur_flag" rel="alternate" hreflang="en"><img src="https://www.cybevasion.fr/lib3/drapeaux3/en.svg" title="English" class="flag_svg"></a><a href="photos_89543_de.html" class="conteneur_flag" rel="alternate" hreflang="de"><img src="https://www.cybevasion.fr/lib3/drapeaux3/de.svg" title="Deutsch" class="flag_svg"></a><a href="photos_89543_es.html" class="conteneur_flag" rel="alternate" hreflang="es"><img src="https://www.cybevasion.fr/lib3/drapeaux3/es.svg" title="Espa&ntilde;ol" class="flag_svg"></a><span class="conteneur_flag"><img src="https://www.cybevasion.fr/lib3/drapeaux3/it.svg" title="Italiano" class="flag_svg"></span><a href="photos_89543_nl.html" class="conteneur_flag" rel="alternate" hreflang="nl"><img src="https://www.cybevasion.fr/lib3/drapeaux3/nl.svg" title="Nederlands" class="flag_svg"></a></div></div></div><div class="menu_site">
	<div class="menu_site_content">
		<div class="bloc-partage"><div class="bloc-visible" onclick="$('.togglePartage').toggleClass('togglePartage_disp');" style="cursor: pointer;"><svg class="logo_partage" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 32 32" fill="#929292"><path d="M22.09,9.07,10.81,14.71A5,5,0,0,1,11,16a4.74,4.74,0,0,1-.32,1.69l8,4.91A5,5,0,1,1,17.33,26a5.08,5.08,0,0,1,.32-1.7l-8-4.9a5,5,0,1,1,.27-6.47L21.19,7.29A5,5,0,0,1,21,6a5,5,0,1,1,5,5A5,5,0,0,1,22.09,9.07Z"></path></svg><span>Condividi</span></div><div class="togglePartage"><div class="listePartage lienPartage"><a href="#" onclick="var r = copyToClipboard_all('lienPage');if(r){var this_ = $(this).find('.btn_copier_lien');this_.html('Link copiato!');setTimeout(function(){$(this_).html('Copia il link');}, 3000);}return false;"><img src="couleur/lib/link.svg" width="32" style="height: 100%;"><span id="lienPage" style="display: none;">https://www.auxgitesdemaelle.com/photos_89543_it.html</span><span class="btn_copier_lien">Copia il link</span></a></div><div class="listePartage lienPartage"><a href="cdn-cgi/l/email-protection.html#d4eba0bbe9f2a7a1b6beb1b7a0e999b5bda7bbbaf1e6e4e0e4e4f1e6e4b9f197e7f195eca0a6b1a7f1e6e4b7b1baa0a6b1f1e697f1e6e4beb5a6b0bdbaf2b6bbb0ade999b5bda7bbbaf1e6e4e0e4e4f1e6e4b9f197e7f195eca0a6b1a7f1e6e4b7b1baa0a6b1f1e697f1e6e4beb5a6b0bdbaf1e490f1e495bca0a0a4a7f1e795f1e692f1e692a3a3a3fab5a1acb3bda0b1a7b0b1b9b5b1b8b8b1fab7bbb9f1e692a4bcbba0bba78becede1e0e78bbda0fabca0b9b8f1e490f1e495"><svg class="logos_partage" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="5 957 90 90" fill="#929292"><path d="m 16,974.36218 c -3.32401,0 -6,2.67599 -6,6 l 0,44.00002 c 0,3.324 2.67599,6 6,6 l 68,0 c 3.32401,0 6,-2.676 6,-6 l 0,-44.00002 c 0,-3.32401 -2.67599,-6 -6,-6 l -68,0 z m 4.75,8.96875 a 2.0002,2.0002 0 0 1 1.65625,0.59375 l 24.75,24.28132 c 1.54842,1.5195 4.07236,1.5198 5.625,0 l 24.8125,-24.28132 a 2.0002,2.0002 0 1 1 2.8125,2.84375 l -16.21875,15.90627 16.1875,15.2188 a 2.0005492,2.0005492 0 0 1 -2.75,2.9062 l -16.28125,-15.3437 -5.75,5.625 c -3.09988,3.0343 -8.15184,3.0403 -11.25,0 l -5.6875,-5.5938 -16.28125,15.3125 a 2.0005492,2.0005492 0 0 1 -2.75,-2.9062 l 16.15625,-15.2188 -16.1875,-15.90626 a 2.0002,2.0002 0 0 1 1.15625,-3.4375 z"></path></svg><span>Condividi via email</span></a></div><div class="listePartage lienPartage"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.auxgitesdemaelle.com%2Fphotos_89543_it.html" onclick="javascript:openWindow(this.href, '', 600, 600); return false;"><img src="couleur/lib/facebook.svg" style="width: 32px;" alt="Condividi su Facebook"/><span>Condividi su Facebook</span></a></div></div></div>		<div class="menu">
		<a class="item_menu" href="accueil_89543_it.html">Home</a><a class="item_menu menu_selected" href="photos_89543_it.html">Fotografia</a><a class="item_menu" href="tarifs_89543_it.html">Alloggio, Prezzi & Planning</a><a class="item_menu" href="plan_89543_it.html">Mappa</a><a class="item_menu" href="contact_89543_it.html">Contatto</a><a class="item_menu menu_back_index" href="index.html">Altre sistemazioni</a>
		</div>	</div>
</div>	<div class="body_site">

	<div class="body_site_content">

	

<div class="bloc_data" style="text-align: center;">
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_1292_1856.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_1292_1856.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_1618_495.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_1618_495.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_972_1113.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_972_1113.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_1264_1693.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_1264_1693.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_986_151.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_986_151.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_808_1910.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_808_1910.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_457_581.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_457_581.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_44_788.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_44_788.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
<div class="bloc_vignette">
	<a href="../www.cybevasion.fr/gites/france/44/89543_1316_1757.jpg" class="swipebox" rel="galerie" title="">
		<img src="../www.cybevasion.fr/thumb/220x165/gites/france/44/89543_1316_1757.jpg" class="vignette">
	</a>
	<br>
	<div class="legende ellipsis"></div>
</div>
</div>

	</div>	</div>	<div class="footer_site">
	<div class="footer_site_content">
		<div class="footer">
			Site internet réalisé par <a href="https://www.cybevasion.fr/contact.html" target="_blank">Cybevasion.fr</a><span class="not_mobile_block"> - </span><a href="mentions-legales_55850.html">Mentions légales</a>
		</div>
	</div>
</div>

<link rel="stylesheet" type="text/css" href="../www.cybevasion.fr/jquery/jquery-ui.css">
<link rel="stylesheet" type="text/css" href="../www.cybevasion.fr/jquery/jquery.qtip.css">
<link rel="stylesheet" type="text/css" href="../www.cybevasion.fr/jquery/jquery.swipebox.css">

<script data-cfasync="false" src="cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery.extensions.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery-ui.min.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery.qtip.min.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery.ui.datepicker-it.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery.scrollTo-min.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery.swipebox.js"></script>
<script type="text/javascript" src="../www.cybevasion.fr/jquery/jquery-event-swipe.js"></script>

<script type="text/javascript" src="../www.cybevasion.fr/javascript/cookiechoices7254.js?202105041646"></script>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function(event) {
	cookieChoices.showCookieConsentBar('En naviguant sur notre site, vous acceptez l\'utilisation de cookies pour nous permettre de réaliser des analyses et vous proposer des contenus adaptés à vos centres d\'intérêts.', 'ACCEPTER', 'PARAMETRER', 'cookies.html');
});
</script>

<script>
$('[title!=""]').qtip({
	position: {
		viewport: $(window),
		target: 'mouse',
		adjust: { mouse: true, x: 15, y: 15 }
	},
	style: { classes: 'qtip-light qtip-shadow', tip: {corner: false} }
});

$(function() {
	$("#arrivee").datepicker({minDate: 0, maxDate: "+1Y +30D", numberOfMonths: 1});
});

/* Retourne le nb d'éléments d'un tableau associatif */
function count(array){
    var c = 0;
    for(var i in array){
        if(array[i] != 'undefined'){
            c++;
		}
	}
	return c;
}

$(document).ready(function(e) {
	$('.swipebox').swipebox({hideBarsDelay : 0, useSVG : false});
});
</script>

<script type="text/javascript">
	/* Permet de vérifier si une date peut être sélectionnée ou non comme "date d'arrivée" */
	function verifierDateFermees(date){
		// format xxxx-yy-zz
		var date_sql = date.getFullYear() + '-' + ('0'+(date.getMonth() + 1)).slice(-2) + '-' + ('0'+date.getDate()).slice(-2);
		
		if(typeof tab_dates_detail != 'undefined' && tab_dates_detail.hasOwnProperty(date_sql)){
			var tab_details = tab_dates_detail[date_sql].split('|');

			if($.inArray('available', tab_details)>=0){
				return [true];
			} else if($.inArray('unavailable', tab_details)>=0){
				return [false, 'completACetteDate', 'indisponible à cette date'];
			} else if($.inArray('no_arrival', tab_details)>=0){
				return [false, 'no_arrivee_possible', 'Pas d\'arrivée possible ce jour'];
			}
		}

		return [true];
	}
	/* Permet de vérifier si une date peut être sélectionnée ou non comme "date de départ" */
	function verifierDatesFermees_2(date){	
		// on travaille sur une copie de l'objet Date
		var date_tmp = new Date(date.getFullYear(), date.getMonth(), date.getDate());
		// On enlève un jour car il faut tester la date précédente (ouverte ou fermée) pour savoir si le jour actuel est disponible comme "date de départ"
		// Exemple dans $tab_dates_detail : 27: ouvert, 28: fermé
		// Pour une date de départ, le 28 doit être ouvert
		date_tmp.setDate(date_tmp.getDate() - 1);

		var date_sql = date_tmp.getFullYear() + '-' + ('0'+(date_tmp.getMonth() + 1)).slice(-2) + '-' + ('0'+date_tmp.getDate()).slice(-2);

		if(typeof tab_dates_detail != 'undefined' && tab_dates_detail.hasOwnProperty(date_sql)){
			var tab_details = tab_dates_detail[date_sql].split('|');
			
			if($.inArray('unavailable', tab_details)>=0){
				return [false, 'completACetteDate', 'indisponible à cette date'];
			} else if($.inArray('no_departure', tab_details)>=0){
				return [false, 'no_arrivee_possible', 'Pas de départ possible ce jour'];
			}
		}

		return [true];
	}

	// Retourne la duree_mini en fonction de la date d'arrivée prévue
	function get_duree_mini(date){
		var duree_loc_mini = 1;
		if(typeof tabDureeslocMiniDates != 'undefined'){
			for(var i in tabDureeslocMiniDates){
				if(date >= tabDureeslocMiniDates[i]['dd'] && date <= tabDureeslocMiniDates[i]['df']){
					duree_loc_mini = tabDureeslocMiniDates[i]['dm'];
					break;
				}
			}
		}
		return duree_loc_mini;
	}
	// Retourne la duree_maxi en fonction de la date d'arrivée prévue
	function get_duree_maxi(date){
		var duree_loc_maxi = 90;
		if(typeof tabDureeslocMiniDates != 'undefined'){
			for(var i in tabDureeslocMiniDates){
				if(date >= tabDureeslocMiniDates[i]['dd'] && date <= tabDureeslocMiniDates[i]['df']){
					duree_loc_maxi = tabDureeslocMiniDates[i]['dmax'];
					break;
				}
			}
		}
		return duree_loc_maxi;
	}
	function dateSlashToSql(date){
		date = date.split('index.html');
		return date.reverse().join('-');
	}
	function dateSqlToSlash(date){
		date = date.split('-');
		return date.reverse().join('index.html');
	}

	var d_tmp = new Date();
	var nb_jours_restants = (new Date(d_tmp.getFullYear(), d_tmp.getMonth()+1, 0)).getDate() - d_tmp.getDate(); // Nb de jours restants avant la fin du mois
	var duree_datepicker = '+2Y +'+nb_jours_restants+'D'; // soit environ 25 mois

	$("#arrivee").datepicker({
		minDate: 0, 
		maxDate: duree_datepicker, 
		numberOfMonths: 1,
		beforeShowDay: verifierDateFermees
	});

	// $("#date_arrivee").datepicker({
	// 	minDate: 0, 
	// 	maxDate: duree_datepicker, 
	// 	numberOfMonths: 1,
	// 	beforeShowDay: verifierDateFermees,
	// 	onSelect: function (date_format) {
	// 		var obj_date_arrivee = $('#date_arrivee');
	// 		var obj_date_depart = $('#date_depart');
	// 		var dt1 = obj_date_arrivee.datepicker('getDate'); // retourne un type 'date'
	// 		var dt2 = obj_date_depart.datepicker('getDate'); // retourne un type 'date'

	// 		var min_dt2 = new Date(dt1); // copie de l'objet
	// 		var max_dt2 = new Date(dt1); // copie de l'objet
	// 		var duree_mini_loc = get_duree_mini(dateSlashToSql(date_format));
	// 		var duree_maxi_loc = get_duree_maxi(dateSlashToSql(date_format));

	// 		// minDate = dt1 + duree_mini_loc => variable selon chaque annonce, déterminé en fonction de : tabDureeslocMiniDates
	// 		min_dt2.setDate(min_dt2.getDate() + parseInt(duree_mini_loc));
	// 		obj_date_depart.datepicker('option', 'minDate', min_dt2);

	// 		if(dt2==null){
	// 			obj_date_depart.datepicker('setDate', min_dt2);
	// 		}
	// 		max_dt2.setDate(max_dt2.getDate() + parseInt(duree_maxi_loc));
	// 		obj_date_depart.datepicker('option', 'maxDate', max_dt2);

	// 		setTimeout(function(){
	// 			obj_date_depart.focus();
	// 		}, 0);
	// 		// $(this).change();
	// 	}
	// });
	// $("#date_depart").datepicker({
	// 	minDate: 0, 
	// 	maxDate: duree_datepicker, 
	// 	numberOfMonths: 1,
	// 	beforeShowDay: verifierDatesFermees_2
	// });

	function check_form_resa(){
		if ($("#date_arrivee").val().length == 0 || $("#date_depart").val().length == 0){
			alert('Les dates d\'arrivée et de départ sont obligatoires !');
		}else{
			$("#form_resa").submit();
		}
	}

	// Menu
	function openMenu() {
		$('#btn_menu, .menu_site').addClass('open');
	}
	function closeMenu() {
		$('#btn_menu, .menu_site').removeClass('open');
	}
	$('#btn_menu').click(function(){
		if($('.menu_site').hasClass('open')){
			closeMenu();
		} else {
			openMenu();
		}
	});

	// Bloc "langues"
	function openLang() {
		$('.bloc_flags').addClass('open');
	}
	function closeLang() {
		$('.bloc_flags').removeClass('open');
	}

	$('span.conteneur_flag').click(function(){
		if($('.bloc_flags').hasClass('open')){
			closeLang();
		} else {
			openLang();
		}
	});

	$(document).on('mouseup touchend', function(e){
		var btn_menu = $('#btn_menu');
		var menu_site = $('.menu_site');
		if(!btn_menu.is(e.target) && btn_menu.has(e.target).length === 0 && !menu_site.is(e.target) && menu_site.has(e.target).length === 0){
			closeMenu();
		}

		var btn_lang = $('span.conteneur_flag');
		var bloc_lang = $('.bloc_flags');
		if(!btn_lang.is(e.target) && btn_lang.has(e.target).length === 0 && !bloc_lang.is(e.target) && bloc_lang.has(e.target).length === 0){
			closeLang();
		}

		var btn_partage = $('.bloc-partage .bloc-visible');
		var bloc_partage = $('.bloc-partage .togglePartage');
		if(!btn_partage.is(e.target) && btn_partage.has(e.target).length === 0 && !bloc_partage.is(e.target) && bloc_partage.has(e.target).length === 0){
			bloc_partage.removeClass('togglePartage_disp');
		}
	});

	// Plugin jQuery qui permet de savoir si un élément est visible ou non => retourne le nb de pixels visibles à l'écran
	;(function($, win) {
		$.fn.inViewport = function(cb) {
			return this.each(function(i,el){
				function visPx(){
					var H = $(this).height(),
					r = el.getBoundingClientRect(), t=r.top, b=r.bottom;
					return cb.call(el, Math.max(0, t>0? H-t : (b<H?b:H)));  
				} visPx();
				$(win).on("resize scroll", visPx);
			});
		};
	}(jQuery, window));

	// Tous les éléments qui ont un attribut data-animation="" seront animés dès qu'ils seront visibles dans le viewport
	$('[data-animation]').inViewport(function(px){
		if(px){
			$(this).addClass($(this).data('animation'));
		}
	});

	function openWindow(url, name, largeur, hauteur){
		var largeurEcran = (screen.width - largeur) / 2;
		var hauteurEcran = ((screen.height - hauteur) / 2)-60;

		newwindow = window.open(url, name, 'width=' + largeur + ', height=' + hauteur + ', top=' + hauteurEcran + ', left=' + largeurEcran);
		if (window.focus) {
			newwindow.focus();
		}
	}

	/* 
	Cette fonction permet de copier du texte. 

	Restrictions : 
	- Accepte uniquement un nodeHtml ou un id (type string : 'id-1')
	- La copie ne peut se faire que si l'élément à copier est visible (donc impossible de faire fonctionner avec type=hidden, display:none)
	- copie seulement le contenu d'un input OU d'un textarea

	retourne un booléen indiquant si le lien a été copié ou non
	*/
	function copyToClipboard(elem) {
		if(typeof (elem) == 'string'){
			elem = $('#' + elem)[0]; // recherche d'un élément portant cet id
		}
		if(!elem){
			return false;
		}
		var isInput = elem.tagName == "INPUT" || elem.tagName == "TEXTAREA";
		var origSelectionStart, origSelectionEnd;
		if (isInput) {
			// can just use the original source element for the selection and copy
			target = elem;
			origSelectionStart = elem.selectionStart;
			origSelectionEnd = elem.selectionEnd;
		} else {
			console.log('Le Node Html n\'est ni un input, ni un textarea. Impossible de copier');
			return false;
		}
		// save original focus
		var currentFocus = document.activeElement;
		// select the content
		target.focus();
		target.setSelectionRange(0, target.value.length);

		// copy the selection
		var succeed;
		try {
			succeed = document.execCommand("copy");
		} catch(e) {
			succeed = false;
		}
		// restore original focus
		if (currentFocus && typeof currentFocus.focus === "function") {
			currentFocus.focus();
		}
		// restore prior selection
		elem.setSelectionRange(origSelectionStart, origSelectionEnd);
		return succeed;
	}

	// idem fonction "copyToClipboard". Cependant, celle-ci permet de copier le texte d'un élément div, span, p, etc...
	function copyToClipboard_all(elem) {
		if(typeof (elem) == 'string'){
			elem = document.getElementById(elem); // recherche de l'élément portant cet id
		}
		var textarea = document.createElement('textarea');
		textarea.id = 'temp_element';
		textarea.style.height = 0;
		document.body.appendChild(textarea);
		textarea.value = elem.innerText;
		var selector = document.querySelector('#temp_element');
		selector.select();
		var succeed;
		try {
			succeed = document.execCommand('copy');
		} catch(e) {
			succeed = false;
		}
		document.body.removeChild(textarea);
		return succeed;
	}


	var legendeDateFermee = 'indisponible à cette date';
	var dico = {
		'pas_resa_jour_j': 'Pas de réservation pour le jour même',
		'pas_resa_veille': 'Pas de réservation la veille du jour d\'arrivée',
		'pas_resa_x_jours_avant_arrivee': 'Pas de réservation à moins de {{nb}} jours avant l\'arrivée',
		'pas_resa_au_dela_x_mois': 'Pas de réservation au delà de {{nb}}',
		'pas_arrivee_ce_jour': 'Pas d\'arrivée possible ce jour',
		'pas_depart_ce_jour': 'Pas de départ possible ce jour',
		'nuits': 'nuits',
	};

	// Initialisation des datepickers
	var tab_datepickers = [];
	
	var id_dp1 = 'date_arrivee';
	var id_dp2 = 'date_depart';

	if(id_dp1 != '' && id_dp2 != '' && typeof Litepicker != 'undefined'){
		var d_tmp = new Date();
		var min_date = '2024-09-03';
		var max_date = '2025-12-31';
		
		tab_datepickers[id_dp1+'_dbl_fiche'] = new Litepicker({ 
			element: document.getElementById(id_dp1),
			elementEnd: document.getElementById(id_dp2),
			format: 'DD/MM/YYYY',
			lang: 'fr-FR',
			minDate: min_date,
			maxDate: max_date,
			numberOfMonths: 2,
			numberOfColumns: 2,
			singleMode: false, // 2 input ?
			showTooltip: false,
			selectForward: true,
			selectBackward: false,
			// position: 'auto_center',
			beforeShowDay: (date, date_null, pickedDates) => {
				// isLocked, class, title
				var tab_retour = [false, '', ''];

				// Si dp1 (car pickedDates.length==0) ...
				if(pickedDates.length==0){
					if(typeof tab_dates_detail != 'undefined'){
						var date_sql = date.format('YYYY-MM-DD');

						if(date_sql < min_date){
							tab_retour[0] = false;
							tab_retour[1] = 'date_passee';
							tab_retour[2] = '';
						}

						if(tab_dates_detail.hasOwnProperty(date_sql)){
							var tab_details = tab_dates_detail[date_sql].split('|');

							if($.inArray('available', tab_details)>=0){
								// le jour est disponible, on ne change rien

							} else if($.inArray('unavailable', tab_details)>=0){
								// jour non disponible
								tab_retour[0] = true;
								tab_retour[1] = 'completACetteDate';
								tab_retour[2] = legendeDateFermee;

								// pour raison : trop tard
								if($.inArray('delai_min_ouv_resa', tab_details)>=0){
									if(typeof tab_conditions_annonce != 'undefined' && typeof tab_conditions_annonce.delai_min_avant_arrivee != 'undefined'){
										if(tab_conditions_annonce.delai_min_avant_arrivee == 0){
											tab_retour[2] = dico['pas_resa_jour_j'];
										} else if(tab_conditions_annonce.delai_min_avant_arrivee == 1){
											tab_retour[2] = dico['pas_resa_veille'];
										} else {
											tab_retour[2] = dico['pas_resa_x_jours_avant_arrivee'].replace('{{nb}}', tab_conditions_annonce.delai_min_avant_arrivee);
										}
									}
								}
								// pour raison : trop tôt
								if($.inArray('delai_max_ouv_resa', tab_details)>=0){
									if(typeof tab_conditions_annonce != 'undefined' && typeof tab_conditions_annonce.reservable_sur_x_jours != 'undefined'){
										tab_retour[2] = dico['pas_resa_au_dela_x_mois'].replace('{{nb}}', tab_conditions_annonce.reservable_sur_x_jours.txt_mois);
									}
								}

							} else if($.inArray('no_arrival', tab_details)>=0){
								// pas d'arrivée possible
								tab_retour[0] = true;
								tab_retour[1] = 'no_arrivee_possible';
								tab_retour[2] = dico['pas_arrivee_ce_jour'];
							}
						}
					}
				}
				// Si dp2 (car pickedDates.length==1) ...
				if(pickedDates.length==1){
					var date_sql = date.format('YYYY-MM-DD');

					var date1_selected = pickedDates[0].format('YYYY-MM-DD');
					var duree_mini = get_duree_mini(date1_selected);
					var duree_maxi = get_duree_maxi(date1_selected);

					var date2_mini = new Date(pickedDates[0].getFullYear(), pickedDates[0].getMonth(), pickedDates[0].getDate()+parseInt(duree_mini));
					var date2_mini_sql = date2_mini.getFullYear() + '-' + ('0'+(date2_mini.getMonth() + 1)).slice(-2) + '-' + ('0'+date2_mini.getDate()).slice(-2);

					var date2_maxi = new Date(pickedDates[0].getFullYear(), pickedDates[0].getMonth(), pickedDates[0].getDate()+parseInt(duree_maxi));
					var date2_maxi_sql = date2_maxi.getFullYear() + '-' + ('0'+(date2_maxi.getMonth() + 1)).slice(-2) + '-' + ('0'+date2_maxi.getDate()).slice(-2);

					// Il faut interdire la sélection du même jour que le jour1 <=> on oblige la sélection du jour suivant le jour1
					if(date_sql < date2_mini_sql){
						tab_retour[0] = true;

					} else if(date_sql > date2_maxi_sql){
						// Si le jour à afficher est après la date de séjour maxi, on interdit sa sélection
						tab_retour[0] = true;

					} else {
						if(typeof tab_dates_detail != 'undefined'){
							// on travaille sur une copie de l'objet Date
							var date_tmp = new Date(date.getFullYear(), date.getMonth(), date.getDate());
							// On enlève un jour car il faut tester la date précédente (ouverte ou fermée) pour savoir si le jour actuel est disponible comme "date de départ"
							// Exemple dans $tab_dates_detail : 27: ouvert, 28: fermé
							// Pour une date de départ, le 28 doit être ouvert
							date_tmp.setDate(date_tmp.getDate() - 1);
							var date_sql_prev = date_tmp.getFullYear() + '-' + ('0'+(date_tmp.getMonth() + 1)).slice(-2) + '-' + ('0'+date_tmp.getDate()).slice(-2);

							if(tab_dates_detail.hasOwnProperty(date_sql_prev)){
								var tab_details = tab_dates_detail[date_sql_prev].split('|');

								if($.inArray('unavailable', tab_details)>=0){
									tab_retour[0] = true;
									tab_retour[1] = 'completACetteDate';
									tab_retour[2] = legendeDateFermee;

								} else if($.inArray('no_departure', tab_details)>=0){
									tab_retour[0] = true;
									tab_retour[1] = 'no_arrivee_possible';
									tab_retour[2] = dico['pas_depart_ce_jour'];
								}
							}
						}
					}
				}

				return tab_retour;
			},
			setup: (picker) => {
				picker.on('selected', (date1, date2) => {
					// les dates ont été sélectionnées, on va envoyer un événement cyb:dates-selected

					var date_hidden_1 = $(picker.options.element).data('date_hidden');
					var date_hidden_2 = $(picker.options.elementEnd).data('date_hidden');

					if(date_hidden_1!='' && date_hidden_2!=''){
						// On stocke les paramètres au format DD/MM/YYYY
						$(date_hidden_1).val(date1.format('DD/MM/YYYY'));
						$(date_hidden_2).val(date2.format('DD/MM/YYYY'));
					}

					const event = new CustomEvent('cyb:dates-selected');
					picker.options.element.dispatchEvent(event);
				}); 

				picker.on('show', (el) => {
					// A l'affichage du datepicker, on met le focus sur le dp1
					var elem = el;
					if(picker.options.element.value == ''){
						elem = picker.options.element;
					}
					elem.classList.add('dp_focus');
				});
				picker.on('preselect', (date1, date2) => {
					// Si on vient de sélectionner la date1, on change le focus sur le dp2
					if(date1 != null && date2 == null){
						picker.options.element.classList.remove('dp_focus');
						picker.options.elementEnd.classList.add('dp_focus');

						// et on affiche la date sélectionnée dans le dp1
						picker.options.element.value = date1.format(picker.options.format);
						picker.options.elementEnd.value = '';

						// S'il y a une durée minimum de séjour, on l'applique sur dp2
						var date1_selected = date1.format('YYYY-MM-DD');
						var duree_mini = get_duree_mini(date1_selected);
						if(duree_mini >= 2){
							var date2_preselect = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()+parseInt(duree_mini));
							var date2_preselect_sql = date2_preselect.getFullYear() + '-' + ('0'+(date2_preselect.getMonth() + 1)).slice(-2) + '-' + ('0'+date2_preselect.getDate()).slice(-2);
							var date2_preselect_slash = ('0'+date2_preselect.getDate()).slice(-2) + '/' + ('0'+(date2_preselect.getMonth() + 1)).slice(-2) + '/' + date2_preselect.getFullYear();
							picker.options.elementEnd.value = date2_preselect_slash;

							// Styles par défaut (en bas du datepicker)
							var styles = 'background: #fff;padding: 0 10px 10px 10px;border-bottom-left-radius: 3px;border-bottom-right-radius: 3px;font-size: 1.1em;font-weight: bold;';
							var html_fleche = '';

							// On veut centrer le nb_nuits minimum au dessus de la case cliquée
							var date1_time = date1.getTime();
							var day_clicked = document.querySelector('.day-item[data-time="'+date1_time+'"]');

							// recherche de l'élément ".litepicker" parent
							var elem = day_clicked;
							var litepicker_parent = null;
							while(elem.parentNode != null){
								elem = elem.parentNode;
								if(elem.classList.contains('litepicker')){
									litepicker_parent = elem;
									break;
								}
							}

							if(litepicker_parent != null){
								var parentPos = litepicker_parent.getBoundingClientRect();
								var childPos = day_clicked.getBoundingClientRect();
								var largeur_bulle = 112; // la bulle fait 112 de large maxi
								var taille_fleche = 5;

								// flèche centrée par défaut
								html_fleche = '<div style="position: absolute;bottom: -'+taille_fleche+'px;left: calc(50% - '+taille_fleche+'px);width: '+(taille_fleche*2)+'px;height: '+(taille_fleche*2)+'px;background: #fff;transform: rotate(45deg);"></div>';

								var relativePos = {};
								relativePos.top = parseInt(childPos.top - parentPos.top),
								relativePos.right = parseInt(childPos.right - parentPos.right),
								relativePos.bottom = parseInt(childPos.bottom - parentPos.bottom),
								relativePos.left = parseInt(childPos.left - parentPos.left);

								var middle_cell = relativePos.left + (childPos.width / 2);
								var left = middle_cell - (largeur_bulle / 2);

								var top = 'top: '+(relativePos.top - 30 - taille_fleche)+'px;';
								var left_right = 'left: '+left+'px;';
								if(left <= childPos.width){
									left_right = 'left: 5px;';
									html_fleche = ''; // trop près du bord, pas de flèche
								}
								if((left+largeur_bulle) >= (parentPos.width - childPos.width)){
									left_right = 'right: 5px;';
									html_fleche = ''; // trop près du bord, pas de flèche
								}

								styles = 'background: #fff;font-size: 1.1em;position: absolute;'+top+left_right+'box-shadow: 1px 1px 5px #999;border-radius: 3px;padding: 5px;';
							}
							
							// on affiche le texte "X nuits minimum"
							if($('.litepicker .infos_suppl_dp').length == 0){
								$('.litepicker').append('<div class="infos_suppl_dp" style="'+styles+'"></div>');
							}
							$('.litepicker .infos_suppl_dp').html(duree_mini+' '+dico['nuits']+' minimum' + html_fleche);
							
						} else {
							$('.litepicker .infos_suppl_dp').remove();
						}

						const event = new CustomEvent('cyb:dates-pre-selected');
						picker.options.element.dispatchEvent(event);
					}
				});
				picker.on('hide', () => {
					// A la fermeture du datepicker, on enlève les focus
					picker.options.element.classList.remove('dp_focus');
					picker.options.elementEnd.classList.remove('dp_focus');

					const event = new CustomEvent('cyb:litepicker-hidden');
					picker.options.element.dispatchEvent(event);
				});
			},
		});
	}

	// Si on est sur un petit écran, les datepickers afficheront un seul mois (au lieu de deux)
	window.addEventListener('load', function(){
		if(typeof tab_datepickers != 'undefined' && window.innerWidth <= 1024){
			let tab_noms_dp = Object.keys(tab_datepickers);
			for(var i in tab_noms_dp){
				tab_datepickers[tab_noms_dp[i]].setOptions({numberOfMonths: 1, numberOfColumns: 1});
			}
		}
	});
</script></body>

<!-- Mirrored from www.auxgitesdemaelle.com/photos_89543_it.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 19 Nov 2024 11:35:16 GMT -->
</html>